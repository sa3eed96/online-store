(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{150:function(e,a,t){"use strict";t.r(a);var c=t(20),l=t(3),n=t.n(l),r=t(5),s=t(2),m=t(0),o=t.n(m),d=t(15),i=t(6),u=t(4),E=t.n(u),p=t(130),b=t(12),N=t.n(b),h=t(8),v=function(e){var a=Object(m.useState)(!1),t=Object(s.a)(a,2),c=t[0],l=t[1],d=function(){var a=Object(r.a)(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l(!0),a.next=4,E.a.delete("/api/purchase/".concat(e.id));case 4:e.showNotification("order has been canceled","bg-success","Success"),N()("#cancelModal").modal("hide"),e.history.replace("/purchases"),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),l(!1),e.showNotification("could not cancel order, try again later","bg-danger","Error");case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement("button",{"data-toggle":"modal","data-target":"#cancelModal",className:"btn btn-danger btn-sm"},"cancel order"),o.a.createElement("div",{className:"modal fade",id:"cancelModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-dialog-centered ",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-body"},o.a.createElement("h6",null,"Are you sure you want to cancel the order?")),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{onClick:d,className:"btn btn-danger"},"Confirm"),o.a.createElement("button",{className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),o.a.createElement(h.a,{loading:c}))))))};a.default=function(e){var a=Object(d.h)().id,t=Object(m.useState)(null),l=Object(s.a)(t,2),u=l[0],b=l[1],N=Object(m.useState)(!0),f=Object(s.a)(N,2),y=f[0],O=f[1];return Object(m.useEffect)((function(){(function(){var e=Object(r.a)(n.a.mark((function e(){var t,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/purchase/".concat(a));case 2:t=e.sent,c=t.data,b(c.purchase),O(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o.a.createElement("div",null,o.a.createElement(h.a,{loading:y},o.a.createElement("div",{className:"row mt-2"},u&&o.a.createElement("div",{className:"col-md-8 mx-auto bg-white"},o.a.createElement("div",{className:"row"},o.a.createElement("h5",{className:"col ml-2"},"Purchase Info")),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 col-md-4"},o.a.createElement("p",{className:"col"},"Order #",o.a.createElement("b",null,u.id))),o.a.createElement("div",{className:"col-sm-12 col-md-4"},o.a.createElement("p",null,o.a.createElement("b",null,"Ordered On: "),Object(p.a)(u.createdAt).format("DD-MM-YY HH:mm"))),o.a.createElement("div",{className:" col-sm-12 col-md-4"},!u.Shipment.delivered&&o.a.createElement(v,Object.assign({},e,{id:u.id})))),o.a.createElement("div",{className:"row alert-info mx-1"},o.a.createElement("div",{className:"col-sm-12 col-md-4"},o.a.createElement("p",{className:"text-dark"},o.a.createElement("b",null,"Payment type ")),o.a.createElement("p",null,u.paymentType)),o.a.createElement("div",{className:"col-sm-12 col-md-4"},o.a.createElement("p",{className:"text-dark"},o.a.createElement("b",null,"Address")),u.hasOwnProperty("Shipment")&&o.a.createElement("div",null,o.a.createElement("p",{className:"text-secondary"},u.Shipment.Address.country," | ",u.Shipment.Address.city),o.a.createElement("p",{className:"text-secondary"},u.Shipment.Address.address),o.a.createElement("p",{className:"text-secondary"},"Delivered on: ",Object(p.a)(u.Shipment.delivery).format("DD-MM-YYYY")))),o.a.createElement("div",{className:"col-sm-12 col-md-4"},o.a.createElement("p",{className:"text-dark"},o.a.createElement("b",null,"Order total")),o.a.createElement("p",{className:"text-secondary"},u.total," EGP"))),o.a.createElement("hr",null),o.a.createElement("div",{className:"border mb-2"},o.a.createElement("div",{className:"row mb-4"},o.a.createElement("h5",{className:"col ml-2"},"Order Products")),o.a.createElement("hr",null),u.hasOwnProperty("PurchaseDetails")&&o.a.createElement("div",null,u.PurchaseDetails.map((function(e){return o.a.createElement("div",{className:"row ml-2"},o.a.createElement("h6",{className:"col-sm-12 col-md-12"},o.a.createElement(i.b,{to:{pathname:"/product/".concat(e.ProductId)}},e.Product.name)),o.a.createElement("p",Object(c.a)({className:"col-sm-12 col-md-6"},"className","col"),"quantity: ",e.quantity),o.a.createElement("p",Object(c.a)({className:"col-sm-12 col-md-6"},"className","col"),"color: ",e.color),o.a.createElement("p",Object(c.a)({className:"col-sm-12 col-md-6"},"className","col"),"total: ",e.Product.price*e.quantity,o.a.createElement("small",null," EGP")))}))))))))}}}]);
//# sourceMappingURL=11.bundle.js.map