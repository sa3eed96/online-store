(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{180:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),c=a(5),s=a(2),o=a(0),u=a.n(o),l=a(21),d=a(6),i=a(4),p=a.n(i),m=a(11),b=a(13);t.default=function(e){var t=Object(o.useContext)(b.a),a=Object(o.useState)(!1),r=Object(s.a)(a,2),i=r[0],f=r[1],h=Object(o.useState)(""),w=Object(s.a)(h,2),v=w[0],g=w[1],E=Object(o.useState)(""),y=Object(s.a)(E,2),N=y[0],x=y[1],k=function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var a=Object(c.a)(n.a.mark((function a(r){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r.preventDefault(),x(""),a.next=5,p.a.delete("/api/user",{data:{password:v}});case 5:t.dispatch({type:"logout"}),m.a.dispatch("showNotification",{body:"Account Deleted",background:"bg-success",header:"Success"}),e.history.replace("/login"),a.next=15;break;case 10:if(a.prev=10,a.t0=a.catch(0),400!==a.t0.response.status){a.next=14;break}return a.abrupt("return",x(a.t0.response.data));case 14:m.a.dispatch("showNotification",{body:"Could Not Delete Account, try again later",background:"bg-danger",header:"Error"});case 15:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:"row mt-4"},!i&&u.a.createElement("div",{className:"card col-sm-10 col-md-4 mx-auto border-radius p-4"},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",null,"Note: you cannot recover your account after deletion"),u.a.createElement("a",{className:"btn btn-danger my-4 mr-2",href:"#",onClick:O},"Proceed and Delete"),u.a.createElement(d.b,{className:"btn btn-dark",to:"/settings"},"Cancel"))),i&&u.a.createElement("div",{className:"card mx-auto col-sm-10 col-md-4 border border-radius p-4"},u.a.createElement("form",{className:"card-body",onSubmit:j},u.a.createElement("h5",{className:"card-title pb-1 text-center"},"Enter Password to Delete"),u.a.createElement(l.a,{id:"password",placeholder:"password",value:v,onChange:k,name:"password",type:"password",required:"required",minLength:"8",maxLength:"30"}),u.a.createElement("p",{className:"text-danger"},u.a.createElement("small",null,N)),u.a.createElement("button",{className:"btn btn-danger"},"Delete Account"))))}}}]);
//# sourceMappingURL=15.bundle.js.map