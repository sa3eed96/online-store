(window.webpackJsonp=window.webpackJsonp||[]).push([[3,12],{105:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(21);var n=a(27);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},119:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),c=a(5),s=a(18),o=a(19),l=a(2),i=a(0),d=a.n(i),u=a(14),m=a(6),p=a.n(m);t.default=function(e){var t=Object(i.useState)(e.location.hasOwnProperty("state")?e.location.state:{country:"Egypt",city:"Cairo",address:"",zipCode:""}),a=Object(l.a)(t,2),r=a[0],m=a[1],b=function(e){console.log(e.target.value),console.log(e.target.name),m(Object(o.a)({},r,Object(s.a)({},e.target.name,e.target.value)))},f=function(){var t=Object(c.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.preventDefault(),!e.location.hasOwnProperty("state")){t.next=7;break}return t.next=5,p.a.put("/api/address/".concat(r.id),r);case 5:t.next=9;break;case 7:return t.next=9,p.a.post("/api/address",r);case 9:e.history.goBack(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.showNotification("failed to add Addess","bg-danger","Error");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}();return d.a.createElement("div",{class:"row"},d.a.createElement("div",{className:"card offset-sm-1 col-sm-10 offset-md-4 col-md-4 border border-radius p-4 mt-4"},d.a.createElement("form",{className:"card-body",onSubmit:f},d.a.createElement("h5",{className:"card-title pb-1 text-center"},"Edit Address"),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"country"},"Country"),d.a.createElement("select",{name:"country",class:"form-control",id:"country",onChange:b,required:!0},d.a.createElement("option",null,"Egypt"))),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"city"},"City"),d.a.createElement("select",{name:"city",class:"form-control",id:"city",onChange:b,required:!0},d.a.createElement("option",null,"Cairo"),d.a.createElement("option",null,"Alexandria"))),d.a.createElement(u.a,{id:"address",label:"address",value:r.address,name:"address",onChange:b,type:"text",required:"required",pattern:"[a-z|0-9]+(\\s|[a-z|0-9])*$"}),d.a.createElement(u.a,{id:"zipcode",label:"zipcode",value:r.zipCode,name:"zipCode",onChange:b,type:"text",required:"required",pattern:"[0-9]{3,6}"}),d.a.createElement("button",{className:"btn btn-primary"},"save"))))}},135:function(e,t,a){"use strict";a.r(t);var r=a(105),n=a(3),c=a.n(n),s=a(5),o=a(2),l=a(0),i=a.n(l),d=a(12),u=a(4),m=(a(119),a(6)),p=a.n(m);t.default=function(e){var t=Object(l.useState)([]),a=Object(o.a)(t,2),n=a[0],m=a[1],b=Object(d.h)().url,f=Object(l.useState)(!0),E=Object(o.a)(f,2),v=E[0],h=E[1];Object(l.useEffect)((function(){(function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/api/address");case 3:a=t.sent,m(a.data.addresses),h(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.showNotification("failed to fetch Addresses","bg-danger","Error");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var y=function(){var t=Object(s.a)(c.a.mark((function t(a,s,o){var l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o.preventDefault(),t.next=4,p.a.delete("/api/address/".concat(a));case 4:(l=Object(r.a)(n)).splice(s,1),m(l),e.showNotification("Address Deleted","bg-success","Success"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.showNotification("failed to delete Address","bg-danger","Error");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a,r){return t.apply(this,arguments)}}();return i.a.createElement("div",{style:{minHeight:window.screen.height/3},className:"row mt-2"},v&&i.a.createElement("div",{className:"spinner-border text-primary mx-auto",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")),!v&&i.a.createElement("div",{className:"col-md-9 mx-auto bg-white pt-2"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h5",{className:"ml-2"},"Your Addresses")),i.a.createElement("div",{className:"col-12"},i.a.createElement(u.b,{className:"btn btn-sm btn-success m-2",to:{pathname:"".concat(b,"/add")}},"add address"))),i.a.createElement("hr",null),0===n.length&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"alert-warning col mx-2"},i.a.createElement("p",null,"You Have no Addresses",i.a.createElement("br",null),"Add an address to deliver orders to"))),n.length>0&&i.a.createElement("div",{className:"row border bg-light mx-4 mb-4"},n.map((function(e,t){return i.a.createElement("div",{className:"col-10",key:e.id},i.a.createElement("p",null,e.city,", ",e.country),i.a.createElement("p",null,"Address: ",e.address),i.a.createElement("p",null,"Zip Code: ",e.zipCode),i.a.createElement(u.b,{className:"btn btn-primary mr-2",to:{pathname:"".concat(b,"/").concat(e.id),state:e}},"Edit"),i.a.createElement("button",{className:"btn btn-secondary mr-2",onClick:function(a){return y(e.id,t,a)}},"Delete"),i.a.createElement("hr",null))})))))}}}]);
//# sourceMappingURL=3.bundle.js.map