(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{104:function(e,t,a){"use strict";t.a=function(e){return Array.prototype.slice.call(e).filter((function(e){return e.name.length>0})).map((function(e){var t=e.validity.typeMismatch;return{name:e.name,typeMismatch:t,valid:e.checkValidity()}})).reduce((function(e,t){return e[t.name]=t.valid,e}),{})}},139:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),s=a(4),i=a(20),o=a(22),l=a(23),m=a(19),c=a(25),h=a(24),d=a(0),u=a.n(d),p=a(17),b=a(5),f=a.n(b),g=a(8),y=a(104),v=function(e){Object(c.a)(r,e);var t,a=Object(h.a)(r);function r(e){var t;return Object(o.a)(this,r),(t=a.call(this,e)).state={firstName:"",lastName:"",email:"",password:"",phone:"",serverError:"",loadng:!1,formValidation:{firstName:!0,lastName:!0,email:!0,password:!0,phone:!0}},t.handleChange=t.handleChange.bind(Object(m.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(m.a)(t)),t.showNotification=e.showNotification,t}return Object(l.a)(r,[{key:"handleChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:(t=Object(s.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),this.setState({serverError:"",loading:!0}),a=Object(y.a)(t.target.elements),!(Object.keys(a).filter((function(e){return!a[e]})).length>0)){e.next=7;break}return this.setState({formValidation:a,loading:!1,serverError:""}),e.abrupt("return");case 7:return e.next=9,f.a.post("/api/register",this.state);case 9:r=e.sent,this.props.user.dispatch({type:"register",payload:r.data.user}),this.props.history.length>1?this.props.history.goBack():this.props.history.replace("/"),this.showNotification("confirmation link has been sent to your email","bg-success","Registered successfully"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),this.setState({loading:!1}),this.setState({serverError:e.t0.response.data});case 19:case"end":return e.stop()}}),e,this,[[0,15]])}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){return u.a.createElement("div",{className:"card mx-auto col-sm-10 col-md-3 border border-radius mt-4"},u.a.createElement("form",{className:"card-body",onSubmit:this.handleSubmit,noValidate:!0},u.a.createElement("h5",{className:"card-title pb-1 text-center text-secondary"},"Register"),u.a.createElement(p.a,{type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleChange,id:"firstName",label:"First name",required:"required",pattern:"[a-zA-Z]{1,250}",error:!this.state.formValidation.firstName,errorMsg:"firstname must consist of only letters"}),u.a.createElement(p.a,{type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleChange,id:"lastName",label:"Last name",required:"required",pattern:"[a-zA-Z]{1,250}",error:!this.state.formValidation.lastName,errorMsg:"lastname must consist of only letters"}),u.a.createElement(p.a,{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,id:"email",label:"Email",required:"required",error:!this.state.formValidation.email,errorMsg:"invalid email"}),u.a.createElement(p.a,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password",label:"Password",required:"required",minLength:"8",maxLength:"30",error:!this.state.formValidation.password,errorMsg:"password must be between 8 and 30 characters"}),u.a.createElement(p.a,{type:"text",name:"phone",value:this.state.phone,onChange:this.handleChange,id:"phone",label:"Mobile Number",pattern:"01[0-9]{9}",required:"required",error:!this.state.formValidation.phone,errorMsg:"mobile number must be 11 digit egyptian number"}),u.a.createElement(g.a,{loading:this.state.loading}),u.a.createElement("p",null,u.a.createElement("small",{style:{color:"red"}},this.state.serverError)),u.a.createElement("button",{className:"btn btn-primary form-control"},"register")))}}]),r}(u.a.Component);t.default=v}}]);
//# sourceMappingURL=3.bundle.js.map