(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{105:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(21);var n=a(27);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},138:function(e,t,a){"use strict";a.r(t);var r=a(105),n=a(19),c=a(3),o=a.n(c),l=a(5),i=a(2),s=a(0),u=a.n(s),m=a(4),p=a(6),d=a.n(p);t.default=function(e){var t=Object(s.useState)([]),a=Object(i.a)(t,2),c=a[0],p=a[1],b=Object(s.useState)(0),h=Object(i.a)(b,2),f=h[0],E=h[1],v=Object(s.useState)(!0),y=Object(i.a)(v,2),w=y[0],N=y[1];Object(s.useEffect)((function(){(function(){var t=Object(l.a)(o.a.mark((function t(){var a,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/api/cart");case 3:a=t.sent,r=a.data,p(r.cart),console.log(r.cart),n=0,r.cart.forEach((function(e){n+=e.quantity*e.price})),E(n),N(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.showNotification(t.t0,"bg-danger","Error");case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var g=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.delete("/api/cart");case 3:p([]),E(0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.showNotification(t.t0,"bg-danger","Error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(l.a)(o.a.mark((function t(a,l,i){var s,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.op="0",t.next=4,d.a.put("/api/cart",Object(n.a)({},a));case 4:(s=Object(r.a)(c)).splice(l,1),p(s),u=0,s.forEach((function(e){u+=e.quantity*e.price})),E(u),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.showNotification(t.t0,"bg-danger","Error");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a,r){return t.apply(this,arguments)}}();return u.a.createElement("div",{style:{minHeight:window.screen.height/3},className:"row mt-4"},w&&u.a.createElement("div",{className:"spinner-border text-primary mx-auto",role:"status"},u.a.createElement("span",{className:"sr-only"},"Loading...")),!w&&u.a.createElement("div",{className:"col-md-9 mx-auto bg-white pt-2"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},u.a.createElement("h5",null,"Shopping Cart (",c.length,")")),u.a.createElement("div",{className:"col"},u.a.createElement("h5",{className:"text-right"},"total: ",f,u.a.createElement("small",null," EGP")))),c.length>0&&u.a.createElement("div",{className:"row"},u.a.createElement(m.b,{className:"btn btn-sm btn-success ml-3",to:{pathname:"/purchase",state:f}},"checkout"),u.a.createElement("button",{className:"btn btn-sm btn-danger ml-3",onClick:g},"Empty Cart")),u.a.createElement("hr",null),u.a.createElement("div",{className:"row"},0===c.length&&u.a.createElement("div",{className:"alert-warning col mx-2"},u.a.createElement("p",null,"Cart is currently empty",u.a.createElement("br",null),"Add items to your cart and view them here before checkout")),c.map((function(e,t){return u.a.createElement("div",{className:"col-6 border-right",key:e.productId},u.a.createElement("h6",null,u.a.createElement(m.b,{to:{pathname:"/product/".concat(e.productId)}},e.productName)),u.a.createElement("h6",null,"quantity: ",e.quantity),u.a.createElement("h6",null,"total: ",e.price*e.quantity,u.a.createElement("small",null," EGP")),u.a.createElement("h6",null,"color: ",e.color),u.a.createElement("button",{className:"btn btn-secondary mr-2",onClick:function(a){return j(e,t,a)}},"Delete"),u.a.createElement(m.b,{className:"btn btn-primary mr-2",to:{pathname:"/addtocart",state:{product:{id:e.productId,name:e.productName,quantity:e.quantity,price:e.price},color:e.color}}},"Edit"))})))))}}}]);
//# sourceMappingURL=4.bundle.js.map