(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{111:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(30);var n=a(36);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},143:function(e,t,a){"use strict";a.r(t);var r=a(111),n=a(22),c=a(3),o=a.n(c),l=a(5),i=a(2),u=a(0),s=a.n(u),m=a(6),d=a(8),p=a(4),b=a.n(p),h=a(17);t.default=function(e){var t=Object(u.useState)([]),a=Object(i.a)(t,2),c=a[0],p=a[1],f=Object(u.useState)(0),E=Object(i.a)(f,2),v=E[0],y=E[1],w=Object(u.useState)(!0),g=Object(i.a)(w,2),N=g[0],j=g[1];Object(u.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/cart");case 3:t=e.sent,a=t.data,p(a.cart),r=0,a.cart.forEach((function(e){r+=e.quantity*e.price})),y(r),j(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),h.a.dispatch("showNotification",{body:e.t0,background:"bg-danger",header:"Error"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.delete("/api/cart");case 3:p([]),y(0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.a.dispatch("showNotification",{body:e.t0,background:"bg-danger",header:"Error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(t,a,l){var i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.op="0",e.next=4,b.a.put("/api/cart",Object(n.a)({},t));case 4:(i=Object(r.a)(c)).splice(a,1),p(i),u=0,i.forEach((function(e){u+=e.quantity*e.price})),y(u),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),h.a.dispatch("showNotification",{body:e.t0,background:"bg-danger",header:"Error"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a,r){return e.apply(this,arguments)}}();return s.a.createElement("div",null,s.a.createElement(d.a,{loading:N},s.a.createElement("div",{className:"row mt-4 thirdWindowHeight"},s.a.createElement("div",{className:"col-md-9 mx-auto bg-white pt-2"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",null,"Shopping Cart (",c.length,")")),s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"text-right"},"total: ",v,s.a.createElement("small",null," EGP")))),c.length>0&&s.a.createElement("div",{className:"row"},s.a.createElement(m.b,{className:"btn btn-sm btn-success ml-3",to:{pathname:"/purchase",state:v}},"checkout"),s.a.createElement("button",{className:"btn btn-sm btn-danger ml-3",onClick:k},"Empty Cart")),s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},0===c.length&&s.a.createElement("div",{className:"alert-warning col mx-2"},s.a.createElement("p",null,"Cart is currently empty",s.a.createElement("br",null),"Add items to your cart and view them here before checkout")),c.map((function(e,t){return s.a.createElement("div",{className:"col-6 border-right",key:e.productId},s.a.createElement("h6",null,s.a.createElement(m.b,{to:{pathname:"/product/".concat(e.productId)}},e.productName)),s.a.createElement("h6",null,"quantity: ",e.quantity),s.a.createElement("h6",null,"total: ",e.price*e.quantity,s.a.createElement("small",null," EGP")),s.a.createElement("h6",null,"color: ",e.color),s.a.createElement("button",{className:"btn btn-secondary mr-2",onClick:function(a){return O(e,t,a)}},"Delete"),s.a.createElement(m.b,{className:"btn btn-primary mr-2",to:{pathname:"/addtocart",state:{product:{id:e.productId,name:e.productName,quantity:e.quantity,price:e.price},color:e.color}}},"Edit"))})))))))}}}]);
//# sourceMappingURL=4.bundle.js.map