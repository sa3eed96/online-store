(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{125:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(20);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},136:function(e,t,a){"use strict";t.a=function(e){return Array.prototype.slice.call(e).filter((function(e){return e.name.length>0})).map((function(e){var t=e.validity.typeMismatch;return{name:e.name,typeMismatch:t,valid:e.checkValidity()}})).reduce((function(e,t){return e[t.name]=t.valid,e}),{})}},176:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),s=a(5),i=a(20),o=a(125),c=a(2),l=a(0),u=a.n(l),m=a(4),p=a.n(m),d=a(21),f=a(10),b=a(136),h=a(13),g=a(11);t.default=function(e){var t=Object(l.useContext)(h.a),a=Object(l.useState)({firstName:t.state.user.firstName,lastName:t.state.user.lastName,email:t.state.user.email,phone:t.state.user.phone}),r=Object(c.a)(a,2),m=r[0],y=r[1],O=Object(l.useState)({firstName:!0,lastName:!0,email:!0,phone:!0}),N=Object(c.a)(O,2),j=N[0],v=N[1],w=Object(l.useState)(""),E=Object(c.a)(w,2),k=E[0],S=E[1],x=Object(l.useState)(!1),P=Object(c.a)(x,2),q=P[0],C=P[1],D=function(e){y(Object(o.a)({},m,Object(i.a)({},e.target.name,e.target.value)))},A=function(){var a=Object(s.a)(n.a.mark((function a(r){var s,i,c;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,r.preventDefault(),S(""),C(!0),s=Object(b.a)(r.target.elements),!(Object.keys(s).filter((function(e){return!s[e]})).length>0)){a.next=9;break}return v(s),C(!1),a.abrupt("return");case 9:return a.next=11,p.a.put("/api/user",m);case 11:i=a.sent,(c=i.data).hasOwnProperty("user")&&t.dispatch({type:"infoUpdate",payload:Object(o.a)({},t.state.user,{firstName:c.user.firstName,lastName:c.user.lastName,phone:c.user.phone,email:c.user.email})}),g.a.dispatch("showNotification",{body:"Info updated",background:"bg-success",header:"Success"}),e.history.replace("/settings"),a.next=24;break;case 18:if(a.prev=18,a.t0=a.catch(0),C(!1),!("response"in a.t0)||!("data"in a.t0.response)){a.next=23;break}return a.abrupt("return",S(a.t0.response.data));case 23:g.a.dispatch("showNotification",{body:"Could Not Updated Info, try again later",background:"bg-danger",header:"Error"});case 24:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e){return a.apply(this,arguments)}}();return u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"card offset-sm-1 col-sm-10 offset-md-4 col-md-4 border border-radius p-4 mt-4"},u.a.createElement("form",{className:"card-body",onSubmit:A,noValidate:!0},u.a.createElement("h5",{className:"card-title pb-1 text-center"},"Edit Personal Information"),u.a.createElement(d.a,{id:"firstName",placeholder:"firstName",value:m.firstName,name:"firstName",onChange:D,type:"text",required:"required",pattern:"[a-z|A-Z]{2,}",error:(!j.firstName).toString(),errormsg:"firstname must consist of only letters"}),u.a.createElement(d.a,{id:"lastName",placeholder:"lastName",value:m.lastName,name:"lastName",onChange:D,type:"text",required:"required",pattern:"[a-z|A-Z]{2,}",error:(!j.lastName).toString(),errormsg:"lastname must consist of only letters"}),u.a.createElement(d.a,{id:"email",placeholder:"email",value:m.email,name:"email",onChange:D,type:"email",required:"required",error:(!j.email).toString(),errormsg:"invalid email"}),u.a.createElement(d.a,{id:"phone",placeholder:"mobile number",value:m.phone,name:"phone",onChange:D,type:"text",required:"required",pattern:"[0-9]{11}",error:(!j.phone).toString(),errormsg:"mobile number must be 11 digit egyptian number"}),u.a.createElement("p",{className:"text-danger"},u.a.createElement("small",null,k)),u.a.createElement(f.a,{loading:q}),u.a.createElement("button",{className:"btn btn-dark"},"update"))))}}}]);
//# sourceMappingURL=7.bundle.js.map