(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{138:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),s=a(5),i=a(20),l=a(22),o=a(23),h=a(19),c=a(25),d=a(24),m=a(0),u=a.n(m),p=a(16),b=a(6),g=a.n(b),f=a(11),y=function(e){Object(c.a)(r,e);var t,a=Object(d.a)(r);function r(e){var t;return Object(l.a)(this,r),(t=a.call(this,e)).state={firstName:"",lastName:"",email:"",password:"",phone:"",error:"",loadng:!1},t.handleChange=t.handleChange.bind(Object(h.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(h.a)(t)),t.showNotification=e.showNotification,t}return Object(o.a)(r,[{key:"handleChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:(t=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),this.setState({error:""}),this.setState({loading:!0}),e.next=6,g.a.post("/api/register",this.state);case 6:a=e.sent,this.props.user.dispatch({type:"register",payload:a.data.user}),this.props.history.length>1?this.props.history.goBack():this.props.history.replace("/"),this.showNotification("confirmation link has been sent to your email","bg-success","Registered successfully"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({loading:!1}),this.setState({error:e.t0.response.data});case 16:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){return u.a.createElement("div",{className:"card mx-auto col-sm-10 col-md-3 border border-radius mt-4"},u.a.createElement("form",{className:"card-body",onSubmit:this.handleSubmit},u.a.createElement("h5",{className:"card-title pb-1 text-center text-secondary"},"Register"),u.a.createElement(p.a,{type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleChange,id:"firstName",label:"First name",required:"required",pattern:"[a-zA-Z]{2,}"}),u.a.createElement(p.a,{type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleChange,id:"lastName",label:"Last name",required:"required",pattern:"[a-zA-Z]{2,}"}),u.a.createElement(p.a,{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,id:"email",label:"Email",required:"required"}),u.a.createElement(p.a,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password",label:"Password",required:"required",minLength:"8",maxLength:"30",info:"password must be atleast 8 characters"}),u.a.createElement(p.a,{type:"text",name:"phone",value:this.state.phone,onChange:this.handleChange,id:"phone",label:"Mobile Number",pattern:"[0-9]{11}",required:"required",info:"Egyptian mobile number"}),u.a.createElement(f.a,{loading:this.state.loading}),u.a.createElement("p",null,u.a.createElement("small",{style:{color:"red"}},this.state.error)),u.a.createElement("button",{className:"btn btn-primary form-control"},"register")))}}]),r}(u.a.Component);t.default=y}}]);
//# sourceMappingURL=7.bundle.js.map