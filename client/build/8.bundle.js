(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{107:function(e,t,a){"use strict";t.a=function(e){return Array.prototype.slice.call(e).filter((function(e){return e.name.length>0})).map((function(e){var t=e.validity.typeMismatch;return{name:e.name,typeMismatch:t,valid:e.checkValidity()}})).reduce((function(e,t){return e[t.name]=t.valid,e}),{})}},141:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),s=a(5),i=a(22),o=a(23),l=a(2),m=a(0),c=a.n(m),u=a(4),d=a.n(u),p=a(19),b=a(8),f=a(107),h=a(14),N=a(17);t.default=function(e){var t=Object(m.useContext)(h.a),a=Object(m.useState)({firstName:t.state.user.firstName,lastName:t.state.user.lastName,email:t.state.user.email,phone:t.state.user.phone}),r=Object(l.a)(a,2),u=r[0],g=r[1],y=Object(m.useState)({firstName:!0,lastName:!0,email:!0,phone:!0}),v=Object(l.a)(y,2),O=v[0],j=v[1],E=Object(m.useState)(""),w=Object(l.a)(E,2),x=w[0],k=w[1],S=Object(m.useState)(!1),q=Object(l.a)(S,2),C=q[0],A=q[1],I=function(e){g(Object(o.a)({},u,Object(i.a)({},e.target.name,e.target.value)))},z=function(){var a=Object(s.a)(n.a.mark((function a(r){var s,i,l;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,r.preventDefault(),k(""),A(!0),s=Object(f.a)(r.target.elements),!(Object.keys(s).filter((function(e){return!s[e]})).length>0)){a.next=9;break}return j(s),A(!1),a.abrupt("return");case 9:return a.next=11,d.a.put("/api/user",u);case 11:i=a.sent,(l=i.data).hasOwnProperty("user")&&t.dispatch({type:"infoUpdate",payload:Object(o.a)({},t.state.user,{firstName:l.user.firstName,lastName:l.user.lastName,phone:l.user.phone,email:l.user.email})}),N.a.dispatch("showNotification",{body:"Info updated",background:"bg-success",header:"Success"}),e.history.replace("/settings"),a.next=24;break;case 18:if(a.prev=18,a.t0=a.catch(0),A(!1),!("response"in a.t0)||!("data"in a.t0.response)){a.next=23;break}return a.abrupt("return",k(a.t0.response.data));case 23:N.a.dispatch("showNotification",{body:"Could Not Updated Info, try again later",background:"bg-danger",header:"Error"});case 24:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e){return a.apply(this,arguments)}}();return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"card offset-sm-1 col-sm-10 offset-md-4 col-md-4 border border-radius p-4 mt-4"},c.a.createElement("form",{className:"card-body",onSubmit:z,noValidate:!0},c.a.createElement("h5",{className:"card-title pb-1 text-center"},"Edit Personal Information"),c.a.createElement(p.a,{id:"firstName",label:"firstName",value:u.firstName,name:"firstName",onChange:I,type:"text",required:"required",pattern:"[a-z|A-Z]{2,}",error:(!O.firstName).toString(),errormsg:"firstname must consist of only letters"}),c.a.createElement(p.a,{id:"lastName",label:"lastName",value:u.lastName,name:"lastName",onChange:I,type:"text",required:"required",pattern:"[a-z|A-Z]{2,}",error:(!O.lastName).toString(),errormsg:"lastname must consist of only letters"}),c.a.createElement(p.a,{id:"email",label:"email",value:u.email,name:"email",onChange:I,type:"email",required:"required",error:(!O.email).toString(),errormsg:"invalid email"}),c.a.createElement(p.a,{id:"phone",label:"mobile number",value:u.phone,name:"phone",onChange:I,type:"text",required:"required",pattern:"[0-9]{11}",error:(!O.phone).toString(),errormsg:"mobile number must be 11 digit egyptian number"}),c.a.createElement("p",{className:"text-danger"},c.a.createElement("small",null,x)),c.a.createElement(b.a,{loading:C}),c.a.createElement("button",{className:"btn btn-primary"},"update"))))}}}]);
//# sourceMappingURL=8.bundle.js.map